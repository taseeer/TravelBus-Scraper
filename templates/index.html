<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelBus - Find Your Perfect Journey</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="static/css/style.css">

</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#" id="logo">
                <i class="fas fa-bus"></i> SYSTEM OF EASY AND QUICK TRANSPORTATION
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#search">Search</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <button id="dark-mode-toggle" class="btn btn-outline-primary ms-2">
                            <i class="fas fa-moon"></i>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-section">
        <div class="container">
            <h1 class="hero-title">Find Your Perfect Journey</h1>
            <p class="hero-subtitle">Book comfortable and affordable bus tickets with ease</p>
        </div>
    </section>
     
 
    <!-- Search Section -->
    <section id="search" class="container">
        <div class="search-section">
            <h2 class="text-center mb-4">Search Bus Tickets</h2>
             <!-- Voice Assistant Button -->
       <!-- Voice Assistant Mic -->
        <div class="mic-wrapper">
          <div class="glow-center"></div>

    <!-- Animated Waves -->
    <div class="wave-bg">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>
<center><div class="mic-container text-center mt-3 mb-4">
    <div class="pulse-ring"></div>
    <button type="button" id="voice-btn" class="mic-button">
        <i class="fas fa-microphone"></i>
    </button>
    <div id="voice-status">Tap to speak</div>
</div></center>
</div>

            <form id="bus-form" class="search-form">
                <div class="row g-3">
                    <div class="col-md-3">
                        <label class="form-label">From</label>
                        <select id="departure" class="form-select" required>
                            <option value="">Select Departure City</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">To</label>
                        <select id="destination" class="form-select" required>
                            <option value="">Select Destination City</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Travel Date</label>
                        <input type="date" id="date" class="form-control" required>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">&nbsp;</label>
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-search me-2"></i>Search Buses
                        </button>
                    </div>
                </div>
            </form>
<!-- Add this right after the search form -->
<div class="data-source-toggle mb-4">
    <div class="btn-group w-100" role="group">
        <button type="button" id="local-buses-btn" class="btn btn-primary active">
            <i class="fas fa-database me-2"></i> BookME
        </button>
        <button type="button" id="sastaticket-btn" class="btn btn-outline-primary">
            <i class="fas fa-globe me-2"></i> Sastaticket
        </button>
    </div>
</div>
            <div class="row mt-4">
                <!-- Filters Sidebar -->
                <div class="col-lg-3">
                    <div class="filters-sidebar">
                        <h5 class="mb-3"><i class="fas fa-filter me-2"></i>Filters</h5>
                        
                        <div class="filter-section">
                            <div class="filter-title" onclick="toggleFilter('bus-services')">
                                <span><i class="fas fa-bus me-2"></i>Bus Services</span>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="filter-options" id="bus-services-options">
                                <p class="text-muted small">Select route to see available services</p>
                            </div>
                        </div>

                        <div class="filter-section">
                            <div class="filter-title" onclick="toggleFilter('bus-types')">
                                <span><i class="fas fa-cog me-2"></i>Bus Types</span>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="filter-options" id="bus-types-options">
                                <p class="text-muted small">Select route to see available types</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Section -->
                <div class="col-lg-9">
                    <div id="bus-results">
                        <div class="text-center py-5">
                            <i class="fas fa-search fa-3x text-muted mb-3"></i>
                            <h4 class="text-muted">Search for buses to see available options</h4>
                            <p class="text-muted">Enter your departure city, destination, and travel date to find buses</p>
                        </div>
                    </div>
                    <div class="loading-container" id="loading-container">
                        <div class="loading-spinner"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <div class="footer-section">
                        <h3 class="footer-title">
                            <i class="fas fa-bus me-2"></i>TravelBus
                        </h3>
                        <p>Your trusted partner for comfortable and affordable bus travel across the country.</p>
                        <div class="social-icons">
                            <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="footer-section">
                        <h4 class="footer-title">Quick Links</h4>
                        <a href="#home" class="footer-link">Home</a>
                        <a href="#search" class="footer-link">Search Buses</a>
                        <a href="#about" class="footer-link">About Us</a>
                        <a href="#contact" class="footer-link">Contact</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="footer-section">
                        <h4 class="footer-title">Services</h4>
                        <a href="#" class="footer-link">Bus Booking</a>
                        <a href="#" class="footer-link">Cancel Ticket</a>
                        <a href="#" class="footer-link">Reschedule</a>
                        <a href="#" class="footer-link">Track Bus</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="footer-section">
                        <h4 class="footer-title">Contact Info</h4>
                        <p><i class="fas fa-phone me-2"></i>+92 300 1234567</p>
                        <p><i class="fas fa-envelope me-2"></i>info@travelbus.com</p>
                        <p><i class="fas fa-map-marker-alt me-2"></i>Islamabad, Pakistan</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 TravelBus. All rights reserved. | Designed with ❤️ for better travel experience</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
<!-- Import voice assistant -->
    <script type="module">
        import VoiceAssistant from '{{ url_for("static", filename="js/voiceAssistant.js") }}';
        
        document.addEventListener('DOMContentLoaded', () => {
            const voiceAssistant = new VoiceAssistant();
            
            voiceAssistant.init(
                document.getElementById('departure'),
                document.getElementById('destination'),
                document.getElementById('date'),
                document.querySelector('#bus-form button[type="submit"]')
            );

            document.getElementById('voice-btn').addEventListener('click', () => {
                voiceAssistant.startListening();
            });
        });
    </script>
<script>
  document.getElementById("voice-btn").addEventListener("click", function () {
    const micButton = this;
    const status = document.getElementById("voice-status");

    // Toggle recording class
    micButton.classList.toggle("recording");

    if (micButton.classList.contains("recording")) {
        status.textContent = "Listening...";
        // Start speech recognition here
    } else {
        status.textContent = "Tap to speak";
        // Stop recognition here
    }
});

</script>
    <!-- Main JavaScript -->
    <script>
    // Global variables
    let currentFilters = {
        busServices: new Set(),
        busTypes: new Set()
    };
    let currentDataSource = 'local'; // 'local' or 'sastaticket'

    // Initialize the application
    document.addEventListener("DOMContentLoaded", async function() {
        await initializeApp();
        setupEventListeners();
        setupAnimations();
    });

    // Initialize app with data
    async function initializeApp() {
        // Set minimum date to today
        const dateInput = document.getElementById('date');
        const today = new Date().toISOString().split('T')[0];
        dateInput.min = today;
        dateInput.value = today;

        // Fetch and populate cities
        try {
            showLoading(true);
            const response = await fetch('/get_cities');
            if (!response.ok) throw new Error('Failed to fetch cities');
            
            const cities = await response.json();
            populateDropdowns(cities);
        } catch (error) {
            console.error('Error fetching cities:', error);
            showError('Failed to load cities. Please refresh the page.');
        } finally {
            showLoading(false);
        }
    }

    // Populate city dropdowns
    function populateDropdowns(cities) {
        const departureDropdown = document.getElementById('departure');
        const destinationDropdown = document.getElementById('destination');

        // Clear existing options except the first one
        departureDropdown.innerHTML = '<option value="">Select Departure City</option>';
        destinationDropdown.innerHTML = '<option value="">Select Destination City</option>';

        cities.forEach(city => {
            const option1 = new Option(city, city);
            const option2 = new Option(city, city);
            departureDropdown.add(option1);
            destinationDropdown.add(option2);
        });
    }

    // Setup event listeners
    function setupEventListeners() {
        // Form submission
        document.getElementById('bus-form').addEventListener('submit', handleFormSubmit);

        // Data source toggle buttons
        document.getElementById('local-buses-btn').addEventListener('click', () => {
            switchDataSource('local');
        });
        document.getElementById('sastaticket-btn').addEventListener('click', () => {
            switchDataSource('sastaticket');
        });

        // Dropdown changes
        document.getElementById('departure').addEventListener('change', updateFilters);
        document.getElementById('destination').addEventListener('change', updateFilters);
        document.getElementById('date').addEventListener('change', updateFilters);

        // Dark mode toggle
        document.getElementById('dark-mode-toggle').addEventListener('click', toggleDarkMode);

        // Smooth scrolling for navbar links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Navbar background on scroll
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.style.background = 'rgba(255, 255, 255, 0.98)';
            } else {
                navbar.style.background = 'rgba(255, 255, 255, 0.95)';
            }
        });
    }

    // Switch between data sources
    // Modify the switchDataSource function
function switchDataSource(source) {
    currentDataSource = source;
    
    // Update button states
    if (source === 'local') {
        document.getElementById('local-buses-btn').classList.add('active');
        document.getElementById('local-buses-btn').classList.remove('btn-outline-primary');
        document.getElementById('local-buses-btn').classList.add('btn-primary');
        
        document.getElementById('sastaticket-btn').classList.remove('active');
        document.getElementById('sastaticket-btn').classList.add('btn-outline-primary');
        document.getElementById('sastaticket-btn').classList.remove('btn-primary');
        
        // Load local cities
        loadCities('/get_cities');
    } else {
        document.getElementById('sastaticket-btn').classList.add('active');
        document.getElementById('sastaticket-btn').classList.remove('btn-outline-primary');
        document.getElementById('sastaticket-btn').classList.add('btn-primary');
        
        document.getElementById('local-buses-btn').classList.remove('active');
        document.getElementById('local-buses-btn').classList.add('btn-outline-primary');
        document.getElementById('local-buses-btn').classList.remove('btn-primary');
        
        // Load Sastaticket cities
        loadCities('/get_sastaticket_cities');
    }
    
    // If we have search criteria, perform a new search
    const departure = document.getElementById('departure').value;
    const destination = document.getElementById('destination').value;
    const date = document.getElementById('date').value;
    
    if (departure && destination && date) {
        searchBuses();
    }
}

// Add a new function to load cities
async function loadCities(endpoint) {
    try {
        showLoading(true);
        const response = await fetch(endpoint);
        if (!response.ok) throw new Error('Failed to fetch cities');
        
        const cities = await response.json();
        populateDropdowns(cities);
        
        // Clear current selections when switching data source
        document.getElementById('departure').value = '';
        document.getElementById('destination').value = '';
        
        // Clear any existing results
        document.getElementById('bus-results').innerHTML = `
            <div class="text-center py-5">
                <i class="fas fa-search fa-3x text-muted mb-3"></i>
                <h4 class="text-muted">Search for buses to see available options</h4>
                <p class="text-muted">Enter your departure city, destination, and travel date to find buses</p>
            </div>
        `;
    } catch (error) {
        console.error('Error fetching cities:', error);
        showError('Failed to load cities. Please refresh the page.');
    } finally {
        showLoading(false);
    }
}

// Update initializeApp to load initial cities
async function initializeApp() {
    // Set minimum date to today
    const dateInput = document.getElementById('date');
    const today = new Date().toISOString().split('T')[0];
    dateInput.min = today;
    dateInput.value = today;

    // Load initial cities (local by default)
    await loadCities('/get_cities');
}

    // Handle form submission
    async function handleFormSubmit(event) {
        event.preventDefault();
        await updateFilters();
        await searchBuses();
    }

    // Update filters based on route and date
    async function updateFilters() {
        const departure = document.getElementById('departure').value;
        const destination = document.getElementById('destination').value;
        const date = document.getElementById('date').value;

        if (!departure || !destination || !date) return;

        try {
            const response = await fetch(`/get_filters?departure=${encodeURIComponent(departure)}&destination=${encodeURIComponent(destination)}&date=${date}`);
            if (!response.ok) throw new Error('Failed to fetch filters');
            
            const filters = await response.json();
            updateFilterSections(filters);
        } catch (error) {
            console.error('Error fetching filters:', error);
            showError('Failed to load filters.');
        }
    }

    // Update filter sections
    function updateFilterSections(filters) {
        // Update bus services
        const busServicesSection = document.getElementById('bus-services-options');
        if (filters.busServices && filters.busServices.length > 0) {
            busServicesSection.innerHTML = filters.busServices.map(service => `
                <div class="filter-option">
                    <input type="checkbox" id="service-${service.toLowerCase().replace(/\s+/g, '-')}" 
                           class="bus-service-filter" value="${service}">
                    <label for="service-${service.toLowerCase().replace(/\s+/g, '-')}">${service}</label>
                </div>
            `).join('');
        } else {
            busServicesSection.innerHTML = '<p class="text-muted small">No services available for this route</p>';
        }

        // Update bus types
        const busTypesSection = document.getElementById('bus-types-options');
        if (filters.busTypes && filters.busTypes.length > 0) {
            busTypesSection.innerHTML = filters.busTypes.map(type => `
                <div class="filter-option">
                    <input type="checkbox" id="type-${type.toLowerCase().replace(/\s+/g, '-')}" 
                           class="bus-type-filter" value="${type}">
                    <label for="type-${type.toLowerCase().replace(/\s+/g, '-')}">${type}</label>
                </div>
            `).join('');
        } else {
            busTypesSection.innerHTML = '<p class="text-muted small">No bus types available for this route</p>';
        }

        // Reattach event listeners for filters
        document.querySelectorAll('.bus-service-filter, .bus-type-filter').forEach(filter => {
            filter.addEventListener('change', searchBuses);
        });
    }

    // Search and display buses
    async function searchBuses() {
    const departure = document.getElementById('departure').value;
    const destination = document.getElementById('destination').value;
    const date = document.getElementById('date').value;

    if (!departure || !destination || !date) return;

    showLoading(true);

    try {
        // Get selected filters
        const selectedServices = Array.from(document.querySelectorAll('.bus-service-filter:checked'))
            .map(checkbox => checkbox.value);
        const selectedTypes = Array.from(document.querySelectorAll('.bus-type-filter:checked'))
            .map(checkbox => checkbox.value);

        // Build query parameters
        const queryParams = new URLSearchParams({
            departure,
            destination,
            date
        });
        selectedServices.forEach(service => queryParams.append('services[]', service));
        selectedTypes.forEach(type => queryParams.append('types[]', type));

        // Determine which endpoint to use
        const endpoint = currentDataSource === 'local' ? '/get_buses' : '/get_sastaticket_buses';
        
        const response = await fetch(`${endpoint}?${queryParams.toString()}`);
        if (!response.ok) throw new Error('Failed to fetch buses');
        
        const buses = await response.json();
        displayBuses(buses);
    } catch (error) {
        console.error('Error fetching buses:', error);
        showError('Failed to load bus results. Please try again.');
    } finally {
        showLoading(false);
    }
}
    // Display buses in results section
    function displayBuses(buses) {
        const resultsDiv = document.getElementById('bus-results');
        
        if (!buses || buses.length === 0) {
            resultsDiv.innerHTML = `
                <div class="text-center py-5">
                    <i class="fas fa-bus fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No buses found</h4>
                    <p class="text-muted">Try adjusting your search criteria or filters</p>
                </div>
            `;
            return;
        }

        resultsDiv.innerHTML = buses.map((bus, index) => {
            const facilityIcons = parseFacilityImages(bus.facility_images);
            const animationDelay = index * 0.1;
            const refundableBadge = bus.is_refundable ? 
                '<span class="badge bg-success ms-2"><i class="fas fa-check-circle me-1"></i>Refundable</span>' : 
                '<span class="badge bg-secondary ms-2"><i class="fas fa-times-circle me-1"></i>Non-refundable</span>';
            
            return `
                <div class="bus-card" style="animation-delay: ${animationDelay}s">
                    <div class="data-source-badge ${currentDataSource === 'local' ? 'badge-local' : 'badge-sastaticket'}">
                        ${currentDataSource === 'local' ? 'Local Database' : 'Sastaticket'}
                    </div>
                    <div class="row align-items-center">
                        <div class="col-md-2 text-center">
                            <img src="${bus.logo_url}" alt="${bus.bus_name}" class="bus-logo">
                        </div>
                        <div class="col-md-4">
                            <div class="d-flex align-items-center mb-2">
                                <h5 class="bus-name mb-0">${bus.bus_name}</h5>
                                ${refundableBadge}
                            </div>
                            <span class="bus-type">${bus.bus_type}</span>
                            <div class="facility-icons mt-2">
                                ${facilityIcons}
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="route">
                                <strong>${bus.departure}</strong>
                                <span class="route-arrow">
                                    <i class="fas fa-arrow-right"></i>
                                </span>
                                <strong>${bus.destination}</strong>
                            </div>
                            <div class="text-center mt-2">
                                <span class="departure-time">${bus.departure_time}</span>
                            </div>
                        </div>
                        <div class="col-md-3 text-end">
                            <div class="price mb-2">${bus.price}</div>
                            <div class="text-muted small mb-3">
                                <i class="fas fa-gift text-warning"></i>
                                Earn ${bus.rewards}
                            </div>
                            <a href="${bus.booking_url}" class="btn btn-primary">
                                <i class="fas fa-ticket-alt me-2"></i>Book Now
                            </a>
                            <div class="text-muted small mt-2">
                                <i class="fas fa-users"></i> ${Math.floor(Math.random() * 20) + 10} seats left
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }).join('');
    }

    // Parse facility images
    function parseFacilityImages(facilityImages) {
        try {
            const images = JSON.parse(facilityImages || '[]');
            return images.map(image => 
                `<img src="${image}" class="facility-icon" alt="facility" title="Bus facility">`
            ).join('');
        } catch (error) {
            return '<i class="fas fa-wifi facility-icon text-primary" title="WiFi"></i><i class="fas fa-snowflake facility-icon text-info" title="AC"></i>';
        }
    }

    // Toggle filter sections
    function toggleFilter(filterId) {
        const filterTitle = document.querySelector(`[onclick="toggleFilter('${filterId}')"]`);
        const filterOptions = document.getElementById(`${filterId}-options`);
        
        filterTitle.classList.toggle('collapsed');
        filterOptions.classList.toggle('collapsed');
    }

    // Toggle dark mode
    function toggleDarkMode() {
        const body = document.body;
        const toggle = document.getElementById('dark-mode-toggle');
        
        body.classList.toggle('dark-mode');
        
        if (body.classList.contains('dark-mode')) {
            toggle.innerHTML = '<i class="fas fa-sun"></i>';
            localStorage.setItem('darkMode', 'enabled');
        } else {
            toggle.innerHTML = '<i class="fas fa-moon"></i>';
            localStorage.setItem('darkMode', 'disabled');
        }
    }

    // Show/hide loading
    function showLoading(show) {
        const loadingContainer = document.getElementById('loading-container');
        loadingContainer.style.display = show ? 'flex' : 'none';
    }

    // Show error message
    function showError(message) {
        const resultsDiv = document.getElementById('bus-results');
        resultsDiv.innerHTML = `
            <div class="text-center py-5">
                <i class="fas fa-exclamation-triangle fa-3x text-warning mb-3"></i>
                <h4 class="text-warning">Error</h4>
                <p class="text-muted">${message}</p>
                <button onclick="location.reload()" class="btn btn-primary">
                    <i class="fas fa-refresh me-2"></i>Retry
                </button>
            </div>
        `;
    }

    // Setup animations
    function setupAnimations() {
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.body.classList.add('dark-mode');
            document.getElementById('dark-mode-toggle').innerHTML = '<i class="fas fa-sun"></i>';
        }

        // Animate elements on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe elements for animation
        document.querySelectorAll('.bus-card, .filter-section').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'all 0.6s ease';
            observer.observe(el);
        });
    }

    // Logo animation
    document.getElementById('logo').addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.1) rotate(5deg)';
    });

    document.getElementById('logo').addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1) rotate(0deg)';
    });

    // Add pulse animation to search button
    document.querySelector('#bus-form button[type="submit"]').addEventListener('click', function() {
        this.style.animation = 'pulse 0.5s ease-in-out';
        setTimeout(() => {
            this.style.animation = '';
        }, 500);
    });

    // Add CSS for pulse animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    `;
    document.head.appendChild(style);

    // Add floating animation to hero section
    let floatingElements = document.querySelectorAll('.hero-title, .hero-subtitle');
    floatingElements.forEach((el, index) => {
        el.style.animation = `float 3s ease-in-out infinite ${index * 0.5}s`;
    });

    // Add CSS for floating animation
    const floatingStyle = document.createElement('style');
    floatingStyle.textContent = `
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
    `;
    document.head.appendChild(floatingStyle);
</script>
</body>
</html>
